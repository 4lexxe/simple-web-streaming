# Screen Share App

Una aplicación web mínima para compartir pantalla en tiempo real usando WebRTC y Socket.IO.

## 🚀 Características

- ✅ Captura de pantalla usando `getDisplayMedia()`
- ✅ Transmisión P2P con WebRTC
- ✅ Signaling server con Socket.IO
- ✅ Salas para múltiples usuarios
- ✅ Interfaz simple y funcional

## 📁 Estructura del Proyecto

```
├── server/                 # Backend Node.js
│   ├── index.js           # Servidor de signaling con Socket.IO
│   └── package.json
└── client/                 # Frontend React
    ├── src/
    │   ├── components/
    │   │   └── ScreenShare.jsx
    │   ├── App.jsx
    │   ├── App.css
    │   └── main.jsx
    └── package.json
```

## 🛠️ Instalación y Ejecución

### 1. Instalar dependencias

**Backend:**
```bash
cd server
npm install
```

**Frontend:**
```bash
cd client
npm install
```

### 2. Ejecutar la aplicación

**Terminal 1 - Servidor:**
```bash
cd server
npm run dev
```

**Terminal 2 - Cliente:**
```bash
cd client
npm run dev
```

### 3. Usar la aplicación

1. Abre `http://localhost:5173` en múltiples pestañas/navegadores
2. Ingresa el mismo Room ID en ambas pestañas (ej: "sala1")
3. Haz clic en "Conectar" en ambas
4. En una pestaña, haz clic en "Compartir Pantalla"
5. La otra pestaña debería recibir el stream automáticamente

## ⚡ Cómo Funciona

### Servidor (`index.js`)
- Maneja conexiones WebSocket con Socket.IO
- Gestiona salas y usuarios
- Facilita el intercambio de ofertas/respuestas WebRTC
- Coordina el inicio/fin de presentaciones

### Cliente (`ScreenShare.jsx`)
- Usa `navigator.mediaDevices.getDisplayMedia()` para capturar pantalla
- Implementa WebRTC para conexiones P2P
- Maneja la señalización a través de Socket.IO
- Interfaz para conectar, compartir y recibir streams

### Flujo de Conexión
1. Usuario se conecta a una sala
2. Inicia screen sharing → captura pantalla
3. Crea RTCPeerConnection y envía offer
4. Otros usuarios reciben offer y responden
5. Se establece conexión P2P directa
6. Stream de video se transmite en tiempo real

## 🌐 Requisitos del Navegador

- Chrome/Edge: ✅ Soporte completo
- Firefox: ✅ Soporte completo  
- Safari: ⚠️ Soporte limitado para getDisplayMedia

## 📝 Notas Importantes

- El servidor corre en puerto **3001**
- El cliente corre en puerto **5173** (Vite)
- Usa STUN servers públicos de Google
- Requiere HTTPS en producción para `getDisplayMedia()`

## 🔧 Solución de Problemas

Si ves "Error fetching videos" o problemas similares:
1. Asegúrate de ejecutar el servidor con `npm run dev` en la carpeta `/server`
2. Verifica que el cliente esté corriendo en `http://localhost:5173`
3. Revisa la consola del navegador para errores de WebRTC

## 🚀 Posibles Mejoras

- [ ] Autenticación de usuarios
- [ ] Chat en tiempo real
- [ ] Grabación de sesiones
- [ ] Compartir audio del sistema
- [ ] Controles de presentación (puntero, anotaciones)